import { Preview, ComponentDocs, CodeJSX } from './../';
import PreviewForDocs from './Preview';
import InteractForDOcs from './Interact/Interact';
import { Bar, BarItem } from './../Bar';

# Preview

Preview component is dedicated to displaing other components with code preview and colored backgrounds.

## Variants

### Default

<Preview code={<Preview>Default preview</Preview>}>Default preview</Preview>

### Different default background color

<Preview
  bgTheme="dark"
  code={<Preview bgTheme="dark">Preview with `dark` background color</Preview>}
>
  Preview with <CodeJSX>dark</CodeJSX> background color
</Preview>

### Disable colors in background color chooser

<Preview
  bgThemeExcludedColors={['accent']}
  code={
    <Preview bgThemeExcludedColors={['accent']}>
      `accent` background color is not available
    </Preview>
  }
>
  <CodeJSX>accent</CodeJSX> background color is not available
</Preview>

### Disable background color chooser

<Preview
  bgTheme={false}
  code={`<Preview bgTheme={false}>
  Disabled background color chooser.
</Preview>`}
>
  Disabled background color chooser
</Preview>

### Adapt to current background color

<Preview
  code={`<Preview>
  {({ bgTheme, bgThemeValue }) => (/*...*/)}
</Preview>`}
>
  {({ bgTheme, bgThemeValue }) => (
    <React.Fragment>
      Current background is <CodeJSX>{`${bgTheme} (${bgThemeValue})`}</CodeJSX>
    </React.Fragment>
  )}
</Preview>

### Disable code preview

<Preview hasCodePreview={false}>
  Pass <CodeJSX>hasCodePreview=&#123;false&#125;</CodeJSX> prop to{' '}
  <CodeJSX>Preview</CodeJSX>
</Preview>

### Custom code in show code

<Preview
  code={
    <Preview code={<div>This is custom code preview of component</div>}>
      Different code output will be shown in code preview
    </Preview>
  }
>
  Different code output will be shown in code preview
</Preview>

### Code JSX options

Library
[react-element-to-jsx-string](https://github.com/algolia/react-element-to-jsx-string)
is used to generate JSX in code example. To overide options of this library, use
`codeJSXOptions`. This can be usefull to filter some props code preview.

<Preview
  codeJSXOptions={{ filterProps: ['key'] }}
  code={
    <Preview codeJSXOptions={{ filterProps: ['key'] }}>
      <div key={"key won't show at code example"}>
        This component has key, but code example hides it
      </div>
    </Preview>
  }
>
  <div key={"key won't show at code example"}>
    This component has key, but code example hides it
  </div>
</Preview>

### Preview HTML string

<Preview code={<Preview html="<div class='html'>This is HTML string</div>" />}>
  This is HTML string
</Preview>

### Preview interactiveProps

`interactiveProps` are used as a pipe for sending special props to Interactive elements renderer. 

Every component in the `Preview` gets their own Interactive component to `render`.  
`render` prop is prefilled with parsed component from `Preview`.  
`filterProps` is set of values that ensures, that user cannot edit these props interactively.  
`skipChildren` is used to make just the parent element interactive not the children elements.  

## Props

<ComponentDocs title="<Preview />" component={PreviewForDocs} excludes={['isIframe', 'iframeHead', 'iframeScripts']}/>

## Props for interactive component

<ComponentDocs title="<Interact />" component={InteractForDOcs} />
